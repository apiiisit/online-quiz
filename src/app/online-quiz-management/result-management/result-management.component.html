<div class="container">

    <p-table [value]="taskList" [rows]="10" [paginator]="true" responsiveLayout="scroll" [(selection)]="selectedItem"
        [rowHover]="true" dataKey="taskId"
        currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" [showCurrentPageReport]="true">
        <ng-template pTemplate="caption">
            <div class="flex align-items-center justify-content-between">
                <button pButton pRipple icon="pi pi-trash" class="p-button-danger" (click)="deleteSelectedItem()"
                [disabled]="!selectedItem || !selectedItem.length"></button>
            </div>
        </ng-template>
        <ng-template pTemplate="header">
            <tr>
                <th style="width: 3rem">
                    <p-tableHeaderCheckbox></p-tableHeaderCheckbox>
                </th>
                <th pSortableColumn="fullName">Name<p-sortIcon field="fullName"></p-sortIcon>
                </th>
                <th pSortableColumn="quiz.category.categoryName">Category<p-sortIcon field="quiz.category.categoryName">
                    </p-sortIcon>
                </th>
                <th pSortableColumn="quiz.quizName">Quiz<p-sortIcon field="quiz.quizName"></p-sortIcon>
                </th>
                <th pSortableColumn="taskScore">Score<p-sortIcon field="taskScore"></p-sortIcon>
                </th>
                <th pSortableColumn="taskPass">Resule<p-sortIcon field="taskPass"></p-sortIcon>
                </th>
                <th pSortableColumn="taskStatus">Status<p-sortIcon field="taskStatus"></p-sortIcon>
                </th>
                <th pSortableColumn="time">Time<p-sortIcon field="time"></p-sortIcon>
                </th>
                <th></th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-task let-index="rowIndex">
            <tr>
                <td>
                    <p-tableCheckbox [value]="task"></p-tableCheckbox>
                </td>
                <td>{{task.fullName}}</td>
                <td>{{task.quiz.category.categoryName}}</td>
                <td>{{task.quiz.quizName}}</td>
                <td>{{task.taskScore}}/{{task.quiz.numberOfQuestion}}</td>
                <td>{{task.taskPass}}</td>
                <td>
                    <p-tag [severity]="task.taskStatus ? 'success' : 'danger'"
                        [value]="task.taskStatus ? 'Pass' : 'Not pass'"></p-tag>
                </td>

                <td>{{task.time}}</td>
                <td>
                    <button pButton pRipple icon="pi pi-trash" class="p-button-rounded p-button-danger"
                        (click)="deleteItem(task)"></button>
                </td>
            </tr>
        </ng-template>
        <ng-template pTemplate="summary">
            <div class="flex align-items-center justify-content-between">
                In total there are {{taskList ? taskList.length : 0 }} results.
            </div>
        </ng-template>
    </p-table>
</div>