<app-navbar-admin></app-navbar-admin>
<div class="card">
    <p-table #dt [value]="taskList" [rows]="10" [paginator]="true"
        [globalFilterFields]="['fullName', 'quiz.category.categoryName', 'quiz.quizName']" responsiveLayout="scroll" [(selection)]="selectedItem"
        [rowHover]="true" dataKey="userId"
        currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" [showCurrentPageReport]="true">
        <ng-template pTemplate="caption">
            <div class="flex align-items-center justify-content-between">
                <h5 class="m-0">Manage Task</h5>
                <div>
                    <span class="p-input-icon-left">
                        <i class="pi pi-search"></i>
                        <input pInputText type="text" [(ngModel)]="searchText" (input)="search(dt)" placeholder="Search..." />
                    </span>
                </div>
            </div>
        </ng-template>
        <ng-template pTemplate="header">
            <tr>
                <th style="width: 3rem">
                    <p-tableHeaderCheckbox></p-tableHeaderCheckbox>
                </th>
                <th pSortableColumn="fullName">Name<p-sortIcon field="fullName"></p-sortIcon></th>
                <th pSortableColumn="quiz.category.categoryName">Category<p-sortIcon field="quiz.category.categoryName"></p-sortIcon></th>
                <th pSortableColumn="quiz.quizName">Quiz<p-sortIcon field="quiz.quizName"></p-sortIcon></th>
                <th pSortableColumn="taskScore">Score<p-sortIcon field="taskScore"></p-sortIcon></th>
                <th pSortableColumn="taskStatus">Status<p-sortIcon field="taskStatus"></p-sortIcon></th>
                <th pSortableColumn="time">Time<p-sortIcon field="time"></p-sortIcon></th>
                <th></th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-task let-index="rowIndex">
            <tr>
                <td>
                    <p-tableCheckbox [value]="task"></p-tableCheckbox>
                </td>
                <td>{{task.fullName}}</td>
                <td>{{task.quiz.category.categoryName}}</td>
                <td>{{task.quiz.quizName}}</td>
                <td>{{task.taskScore}}</td>
                <td>{{task.taskStatus}}</td>
                <td>{{task.time}}</td>
                <!-- <td>
                    <button pButton pRipple icon="pi pi-pencil" class="p-button-rounded p-button-warning mr-2"
                        (click)="editItem(user)"></button>
                    <button pButton pRipple icon="pi pi-trash" class="p-button-rounded p-button-danger"
                        (click)="deleteItem(user)"></button>
                </td> -->
            </tr>
        </ng-template>
        <ng-template pTemplate="summary">
            <div class="flex align-items-center justify-content-between">
                In total there are {{taskList ? taskList.length : 0 }} task.
            </div>
        </ng-template>
    </p-table>
</div>